good_night:
  alias: Good Night
  sequence:
    - data:
        entity_id: group.dnd_bedrooms
      service: homeassistant.turn_on
    - data:
        entity_id: group.all_lights
      service: homeassistant.turn_off
    - data:
        entity_id: group.all_light_switches
      service: homeassistant.turn_off
    - data:
        brightness: 30
        entity_id: light.emmas_bedroom_nightlight
        rgb_color:
          - 255
          - 30
          - 30
      service: light.turn_on
    - data:
        entity_id: remote.harmony_hub
      service: remote.turn_off
    - data:
        entity_id: lock.home_door
      service: lock.lock
    - data:
        entity_id:
          - media_player.everywhere
          - media_player.emma_s_bedroom_echo_dot
        volume_level: 0.2
      service: media_player.volume_set
    - data:
        entity_id: input_boolean.sarah_good_night_pressed
      service: input_boolean.turn_off
    - data:
        entity_id: input_boolean.bruno_good_night_pressed
      service: input_boolean.turn_off

sarah_good_night:
  alias: Sarah's Good Night
  sequence:
    - data:
        entity_id: input_boolean.sarah_good_night_pressed
      service: input_boolean.turn_on
    - data:
        entity_id: input_boolean.dnd_master_bedroom
      service: input_boolean.turn_on
    - data:
        entity_id: light.master_bedroom
      service: light.turn_off
    - condition: state
      entity_id: input_boolean.bruno_good_night_pressed
      state: "on"
    - data:
        entity_id: script.good_night
      service: script.turn_on

bruno_good_night:
  alias: Bruno's Good Night
  sequence:
    - data:
        entity_id: input_boolean.bruno_good_night_pressed
      service: input_boolean.turn_on
    - data:
        entity_id: input_boolean.dnd_master_bedroom
      service: input_boolean.turn_on
    - data:
        entity_id: light.master_bedroom
      service: light.turn_off
    - condition: state
      entity_id: input_boolean.sarah_good_night_pressed
      state: "on"
    - data:
        entity_id: script.good_night
      service: script.turn_on

emma_bedtime:
  sequence:
    - data:
        entity_id: light.emmas_bedroom
      service: light.turn_off
    - data:
        entity_id: switch.emmas_bedroom_string_lights
      service: switch.turn_off
    - data:
        brightness: 30
        entity_id: light.emmas_bedroom_nightlight
        rgb_color:
          - 255
          - 30
          - 30
        transition: 5
      service: light.turn_on
    - data:
        entity_id: input_boolean.dnd_emmas_bedroom
      service: input_boolean.turn_on
    - data:
        entity_id: media_player.emma_s_bedroom_echo_dot
        media_content_id: "lullabies"
        media_content_type: routine
      service: media_player.play_media
    - data:
        entity_id: media_player.emma_s_bedroom_echo_dot
        volume_level: 0.3
      service: media_player.volume_set
  alias: Emma's Bedtime

house_wake_up:
  alias: "[House] Wake Up"
  sequence:
    - data:
        entity_id: group.dnd_house
      service: homeassistant.turn_off

    - data:
        entity_id:
          - media_player.everywhere
          - media_player.emma_s_bedroom_echo_dot
        volume_level: 0.5
      service: media_player.volume_set

house_nobody_home:
  alias: "[House] Nobody Home"
  sequence:
    - data:
        entity_id: group.all_lights
      service: homeassistant.turn_off
    - data:
        entity_id: group.all_light_switches
      service: homeassistant.turn_off
    - data:
        entity_id: remote.harmony_hub
      service: remote.turn_off
    - data:
        entity_id: lock.home_door
      service: lock.lock

start_cleaning:
  alias: Start Cleaning
  sequence:
    - data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
      service: vacuum.start

stop_cleaning:
  alias: Stop Cleaning
  sequence:
    - data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
      service: vacuum.return_to_base

clean_living_room:
  alias: Clean the Living Room
  sequence:
    - data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
        zone:
          - [29558, 24951, 33358, 32051]
        repeats: 1
      service: xiaomi_miio.vacuum_clean_zone

clean_dining_room:
  alias: Clean the Dining Room
  sequence:
    - data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
        zone:
          - [23695, 25114, 30045, 27964]
        repeats: 1
      service: xiaomi_miio.vacuum_clean_zone

clean_master_bedroom:
  alias: Clean the Master Bedroom
  sequence:
    - data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
        zone:
          - [25552, 28036, 29152, 32136]
        repeats: 1
      service: xiaomi_miio.vacuum_clean_zone

clean_emmas_bedroom:
  alias: Clean Emma's Bedroom
  sequence:
    - data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
        zone:
          - [21332, 28462, 25382, 32162]
      service: xiaomi_miio.vacuum_clean_zone

clean_kitchen:
  alias: Clean the Kitchen
  sequence:
    - data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
        zone:
          - [21748, 25168, 23648, 28518]
        repeats: 1
      service: xiaomi_miio.vacuum_clean_zone

clean_bathroom:
  alias: Clean the Bathroom
  sequence:
    - data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
        zone:
          - [19423, 26426, 21273, 29976]
        repeats: 1
      service: xiaomi_miio.vacuum_clean_zone

clean_hallway:
  alias: Clean the Hallway
  sequence:
    - data:
        entity_id: vacuum.xiaomi_vacuum_cleaner
        zone:
          - [15810, 25203, 21560, 26453]
          - [16423, 26396, 17773, 27896]
        repeats: 1
      service: xiaomi_miio.vacuum_clean_zone
